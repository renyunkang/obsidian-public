<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>openelb on</title><link>https://share.ryken.cloud/tags/openelb/</link><description>Recent content in openelb on</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 25 May 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://share.ryken.cloud/tags/openelb/index.xml" rel="self" type="application/rss+xml"/><item><title>架构调整</title><link>https://share.ryken.cloud/%E6%9E%B6%E6%9E%84%E8%B0%83%E6%95%B4/</link><pubDate>Thu, 25 May 2023 00:00:00 +0000</pubDate><guid>https://share.ryken.cloud/%E6%9E%B6%E6%9E%84%E8%B0%83%E6%95%B4/</guid><description>背景 现在 openelb 控制面和数据面在一起还没有拆分，为满足建行的需求，需要将 openelb 拆分为 openelb-manager(deploy) 和 openelb-speaker(ds)，以及包括之后的 openelb-server(ui http server)。拆分过程需要考虑细化组件功能以及各个组件的通信，同时调研 layer2 使用 Leaderelector 还是 memberlist 实现更好的故障转移，以及各个协议speaker是否启用的配置、流程。
功能划分如下：
组件 功能 其他说明 openelb-controller ipam 容器网络 openelb-speaker 路由宣告 主机网络 openelb-apiserver console server 后端 容器网络 openelb-console ui 显示 容器网络 openelb-agent 用于获取主机的一些信息给 apiserver 主机网络 kse-openelb-plugin - - openelb-controller 功能点： 当前版本需要支持的功能(基本功能)： openelb-controller deploy 支持多副本(主备模式) - leader 选举 ipam 处理 eip 并为 svc 分配 ip，记录 ip-svc 关系 支持默认 eip enhance 功能： svc 指定注解的数量 - 去除重复意义的 openelb 注解，但同时需要注意兼容性 webhook 的完善 验证 eip (采用 webhookbuilder) 对于默认 eip 支持，webhook 修改创建的 service(采用 manager.</description></item></channel></rss>